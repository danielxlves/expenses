<%- include('includes/head')%>

    <body>
        <%- include('includes/nav') %>

            <div class="container">
                <div class="row">
                    <div class="col-lg-2"></div>

                    <div class="col-lg-8 my-3">
                        <h1 class="text-center">Expenses</h1>
                        <p class="text-center lead">Register your expense!</p>

                        <%- include('includes/messages') %>

                        <div class="row">
                            <div class="col-lg">

                                <% if(expenses._id) { %>
                                <form action="/expenses/edit/<%=expenses._id%>" method="POST">
                                  <% } else { %>
                                <form action="/expenses/record" method="POST">

                                  <% } %>
                                  <input type="hidden" name="_csrf" value=<%=csrfToken%>>
                                    <div class="mb-3">
                                      <label for="exampleInputEmail1" class="form-label">Spent</label>
                                      <div class="input-group">
                                        <span class="input-group-text">$</span>
                                        <input value="<%=expenses.price%>" id="dollar-input" type="number" class="form-control"  min="1" name="price">
                                      </div>
                                    </div>
                                    <div class="mb-3">
                                      <label class="form-label">Name of spent</label>
                                      <input value="<%=expenses.name%>" type="text" class="form-control" name="name">
                                    </div>
                                    <div class="mb-3">
                                      <label class="form-label">Date of spent</label>
                                      <input oninput="apenasNumeros(event)" min="2000-01-01" max="2023-12-31" value="<%=expenses.date%>" type="date" class="form-control" name="date">
                                    </div>
                                    <button type="submit" class="btn btn-primary">Record</button>
                                  </form>
                            </div>

                    </div>

                    <div class="col-lg-2"></div>

                </div>
            </div>

            <script>
              function apenasNumeros(event) {
                var input = event.target;
                input.value = input.value.replace(/\D/g, '');
              }
            </script>

            <%- include('includes/footer') %>
    </body>